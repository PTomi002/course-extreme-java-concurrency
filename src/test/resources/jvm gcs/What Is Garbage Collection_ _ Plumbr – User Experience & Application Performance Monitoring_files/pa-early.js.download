!function(){"use strict";var l="__plumbr_func_unwrapped",c="__plumbr_from_wrapped",s="__plumbr_cbs",f="__plumbr_cbi",p="Permission denied";function u(o,i,a,s){i&&(i=v(i)),a&&(a=v(a)),s&&(s=v(s));var t=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r={};i&&i(this,e,r,o);try{return n=o.call.apply(o,[this].concat(e))}catch(t){throw s&&s(this,e,r,t,o),"object"==typeof t&&Object.defineProperty(t,c,{value:!0,enumerable:!1}),t}finally{a&&a(this,e,r,n,o)}};return Object.defineProperty(t,l,{value:o,enumerable:!1}),t}function h(t,e,n,r){if(t[e]){var o=t[e];t[e]=u(o,n,r)}}var d=1;var i=function(){};function v(n){return function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return n.call.apply(n,[this].concat(t))}catch(t){try{i(t)}catch(t){}}}}function r(i,t,a){void 0===a&&(a={});var s=u(function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=new(Function.prototype.bind.apply(i,[null].concat(t)));return n.__proto__=s.prototype,n},t.before,t.after,t.onerror);return s.__proto__=i,s.prototype.__proto__=i.prototype,Object.defineProperty(s,"toString",{configurable:!0,value:i.toString.bind(i),writable:!0}),Object.keys(a).forEach(function(t){var e=a[t],n=e.before,r=e.after,o=e.onerror;s.prototype[t]=u(i.prototype[t],n,r,o)}),s}var m=function(){return this.addEventListener&&this.addEventListener[l]?this.addEventListener[l].apply(this,arguments):this.addEventListener.apply(this,arguments)},g=function(){return this.removeEventListener&&this.removeEventListener[l]?this.removeEventListener[l].apply(this,arguments):this.removeEventListener.apply(this,arguments)},e=(window.IntersectionObserver,window.MutationObserver),n=(window.Promise,history.pushState,history.replaceState,window.setInterval),y=window.setTimeout,b=window.XMLHttpRequest,w=window.XMLHttpRequest.prototype.open,S=window.XMLHttpRequest.prototype.send;function E(t,e){var n=arguments;if("function"==typeof Object.assign)return Object.assign.apply(Object,arguments);if(null===t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),o=1;o<arguments.length;o++){var i=n[o];if(null!==i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r}function _(t,e,n){if("function"==typeof t.find)return t.find(e,n);for(var r=t.length,o=0;o<r;){var i=t[o];if(e.call(n,i,o,t))return i;o++}}function k(t,e,n){if("function"==typeof t.forEach)return t.forEach(e,n);for(var r=0;r<t.length;r++)e.call(n,t[r],r,t)}function I(t,e,n){return"function"==typeof t.includes?t.includes(e,n):-1!==t.indexOf(e,n)}function a(t,e,n){return t.substr(n||0,e.length)===e}var o=function(t,e,n){void 0===t&&(t=5),void 0===e&&(e=1/0),void 0===n&&(n={});var r=n.getId;void 0===r&&(r=function(t){return t});var o=n.getMeta;void 0===o&&(o=void 0);var i=n.metaChecker;void 0===i&&(i=void 0);var a=n.metaLimit;void 0===a&&(a=t);var s=n.onSpam;void 0===s&&(s=void 0),this.enabled=!0,this.blacklist=[],this.tracker={},this.threshold=t,this.timeout=e,this.getId=r,this.getMeta=o,this.metaChecker=i,this.metaLimit=a,this.onSpam=s};o.prototype.destroy=function(){this.enabled=!1,this.blacklist.splice(0),this.tracker={}},o.prototype.isSpammy=function(t){if(!this.enabled)return!1;var e=this.getId(t);if(I(this.blacklist,e))return!0;void 0===this.tracker[e]&&(this.tracker[e]={count:0,meta:[]});var n=this.tracker[e];if(n.count++,this.getMeta&&(n.meta.unshift(this.getMeta(t)),n.meta.length>this.metaLimit&&n.meta.splice(this.metaLimit)),n.count>this.threshold&&(!this.metaChecker||this.metaChecker(n.meta)))return this.blacklist.push(e),delete this.tracker[e],this.onSpam&&this.onSpam(e),!0;this.timeout!==1/0&&setTimeout(this._reduceSpam.bind(this,e),this.timeout)},o.prototype._reduceSpam=function(t){if(void 0!==this.tracker[t]){var e=this.tracker[t];e.count--,e.count<1&&delete this.tracker[t]}};var O=window.JSON,t=function(){return(new Date).getTime()};Date.now&&(t=Date.now);var T=t;function P(t,e,n){return n||(n=1e3/30),Math.abs(t-e)<n}function x(t,e){e||(e=document.location.href);var n=document.createElement("a");n.href=t,t=n.href;var r=e.indexOf("/"),o=e.indexOf("/",r+2)+1;return t.substr(0,o)===e.substr(0,o)}function A(){}function L(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return O.stringify.apply(O,t)}function C(t){var e=document.createElement("a");return e.href=t,e.href}function j(e,t){if(!e||!t)return!1;var n=!1;return t.excludedDomains.forEach(function(t){-1!==e.indexOf(t)&&(n=!0)}),n}function N(t,e){var n=t.indexOf(e);-1<n&&t.splice(n,1)}var M={enumerable:!1,writable:!0},U=function(t,e){void 0===t&&(t=null),void 0===e&&(e="Unknown"),this.parent=t,this.name=e,Object.defineProperties(this,{_transaction:M,_zoner:M})},D={exclusionState:{configurable:!0},transaction:{configurable:!0},zoner:{configurable:!0}};function R(t){var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues)try{for(var n=new Int32Array(t),r=e.getRandomValues(n),o=[],i=0;i<r.length;i++)o.push(r[i]);return o}catch(t){}}function z(t){var e=R(t);return e?e.join(","):e}D.exclusionState.get=function(){return this},D.transaction.get=function(){return this.parent?this.parent.transaction:this._transaction},D.transaction.set=function(t){if(this.parent)return this.parent.transaction=t;this._transaction=t},D.zoner.get=function(){return this._zoner?this._zoner:this.parent?this.parent.zoner:void 0},D.zoner.set=function(t){this._zoner=t},U.prototype.sendRelatedEvent=function(){},U.prototype.logChain=function(){for(var t=this;t;)t=t.parent},U.prototype.toJSON=function(){return{$type:"NState",name:this.name,transaction:this._transaction}},Object.defineProperties(U.prototype,D);var F=function(t,e){this.transaction=t,this.type=e,this.id=z(2),this.ended=!1};F.prototype.start=function(t){return t.start=T(),this.transaction.send({spanId:this.id,type:this.type,data:t})},F.prototype.end=function(t){this.ended=T(),t.end=this.ended;var e=this.transaction.send({spanId:this.id,type:this.type,data:t});return this.transaction.spanDone(this.id),e},F.prototype.timings=function(t){return this.transaction.send({spanId:this.id,type:"rt",data:t})};var B=["asset","xhr"],H="plumbr://overflow",q=function(){this.stats={},this.used=[]};q.prototype.end=function(){},q.prototype.isSpammy=function(){return!1},q.prototype.newSpan=function(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];return new(Function.prototype.bind.apply(F,[null].concat([this],[t],e)))},q.prototype.spanDone=function(){},q.prototype.send=function(t){if(t.type&&I(B,t.type)&&t.data&&t.data.start&&t.data.url){var e=t.data.url;if(this.stats[e]?this.stats[e]++:(this.stats[e]=1,this.used.push(e)),25<this.used.length){var n=this.used.shift();this.stats[H]=(this.stats[H]?this.stats[H]:0)+this.stats[n],delete this.stats[n]}}return t},q.prototype.event=function(){return this.send(event)},q.prototype.sendTxStart=function(){},q.prototype.toJSON=function(){return{id:"tx#excluded",stats:this.stats}};var X=function(n){function t(t,e){void 0===t&&(t=null),void 0===e&&(e="Ignored"),n.call(this,null,e),this.nonexclusionParent=t}n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t;var e={exclusionState:{configurable:!0},transaction:{configurable:!0}};return e.exclusionState.get=function(){return this},e.transaction.get=function(){return this.nonexclusionParent.transaction?this.nonexclusionParent.transaction.exclusionTx:(this._transaction||(this._transaction=new q),this._transaction)},e.transaction.set=function(t){},t.prototype.toJSON=function(){return{$type:"XState",name:this.name,transaction:this._transaction}},Object.defineProperties(t.prototype,e),t}(U),W="__plumbr_error_gathered",K={name:["name"],message:["message"],file:["fileName","filename"],lineno:["lineNumber","lineno"],colno:["columnNumber","colno"],stack:["stack"]};Error.stackTraceLimit&&Error.stackTraceLimit<=10&&(Error.stackTraceLimit=25);var J=function(t){this.core=t,this.spamDetect=new o(5,1e4,{getId:function(t){return t.message}}),this.addGlobalHooks()};J.prototype.addGlobalHooks=function(){var e=this;m.call(window,"error",v(function(t){(!window.ErrorEvent||t instanceof ErrorEvent)&&(t.error?e.processError(t.error,t,{source:"bubble"}):e.processError(null,t,{source:"bubble"}))}))},J.prototype.processError=function(n,r,t,e){if(!n||!n[W])if(n||r){var o=typeof n;if("object"!==o){var i="(unjsonable)";try{i=L(n)}catch(t){}n={message:i,name:o}}var a={};t&&E(a,t),Object.keys(K).forEach(function(e){_(K[e],function(t){return n&&void 0!==n[t]?(a[e]=n[t],!0):r&&void 0!==r[t]?(a[e]=r[t],!0):void 0})}),this.sendData(a,e),!this.core.zoner.isPageLoadTx()&&!this.core.zoner.current.transaction.failedAssetInfoSent&&0<this.core.zoner.failedAssets.length&&(this.core.events.sendEvent({type:"failedAssets",data:{urls:this.core.zoner.failedAssets}}),this.core.zoner.current.transaction.failedAssetInfoSent=!0),n&&Object.defineProperty(n,W,{value:!0,enumerable:!1,configurable:!0})}else this.core.console.error("error no info")},J.prototype.sendData=function(t,e){if(!this.spamDetect.isSpammy(t)||e){var n=void 0;e&&this.core.zoner.current instanceof X&&(n=this.core.zoner.current.nonexclusionParent.transaction),this.core.events.sendEvent({type:"err",data:t},!0,n)}};var V=function(t){this.core=t};V.prototype.newSpan=function(t,e,n){var r;void 0===n&&(n=this._getTransaction());for(var o=[],i=arguments.length-3;0<i--;)o[i]=arguments[i+3];return n.isSpammy(t)?(r=n.exclusionTx).newSpan.apply(r,[e].concat(o)):n.newSpan.apply(n,[e].concat(o))},V.prototype.sendEvent=function(t,e,n){return void 0===n&&(n=this._getTransaction()),e&&(t.ts=T()),n.send(t)},V.prototype.sendWhenFresh=function(t){return this._getTransaction().sendWhenFresh(t)},V.prototype._getTransaction=function(){return this.core.zoner.currentTransaction()};var G="plumbr-supported";function $(n){var r;return{isSupported:function(){if(void 0!==r)return r;try{window[n].setItem(G,"1"),r="1"===window[n].getItem(G)}catch(t){r=!1}try{window[n].removeItem(G)}catch(t){}return r},get:function(t){if(!1!==r)try{return window[n].getItem(t)}catch(t){r=!1}},remove:function(t){if(!1===r)return!0;try{return window[n].removeItem(t),!0}catch(t){return r=!1}},set:function(t,e){if(!r)return!1;try{return window[n].setItem(t,e),!0}catch(t){return r=!1}}}}var Q=$("localStorage"),Y="plumbr!",Z="plmbr.latency",tt=Y+"pageload",et=Y+"agent",nt=[tt,et],rt=function(t){var e=this;this.core=t,this.cache=[],this.lookup={},this._loadFromStorage(),this.core.conf.tracking.user||Q.remove(Z),m.call(window,"storage",function(t){t.key===Z&&e._loadFromStorage()})};function ot(t){if(a(t,Y))return t;var e=t.indexOf("/")+2,n=t.indexOf("/",e),r=t.substring(e,n),o=r.indexOf("@");return-1<=o?r.substring(o+1):r}function it(e){var n={};return Object.getOwnPropertyNames(e).forEach(function(t){n[t]=e[t]}),!n.stack&&e.stack&&(n.stack=e.stack),n}function at(i){i._consoleQueue=[];var t=document.querySelector("script[data-plumbr]"),e="";return t&&(e=t.src),window.addEventListener("error",function(t){window.ErrorEvent&&t instanceof ErrorEvent&&t.filename===e&&"object"==typeof t.error&&!t.error[c]&&(i.console.error("Runtime Error",it(t.error)),t.preventDefault())}),{init:function(){this.inited||(i.console._log=function(t,e){var n,r,o=!1;!0===e[0]&&(e=e.slice(1,e.length),o=!0),n={level:t,data:e},r=o,i.zoner&&i.zoner.root.transaction&&!r?i.zoner.root.transaction.event({type:"log",ts:T(),data:n}):(n.ts=T(),i.send.log(n))},i._consoleQueue.map(function(t){var e;return(e=i.console)._log.apply(e,t)}),i._consoleQueue=[],this.inited=!0)},_log:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];i._consoleQueue.push(t)},log:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this._log("log",t)},info:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this._log("info",t)},warn:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this._log("warning",t)},error:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this._log("error",t)}}}function st(t,e){return("000000000000000"+t.toString(16)).substr(-e)}function ct(t){return st(t>>>16,4)}function ut(t){return st(65535&t,4)}function lt(t){return ct(t)+ut(t)}function dt(t){if(t&&4===t.length)return lt(t[0])+"-"+ct(t[1])+"-"+ut(t[1])+"-"+ct(t[2])+"-"+ut(t[2])+lt(t[3])}function ft(){try{return dt(R(4))}catch(t){}}rt.prototype.getSummary=function(){var t={},e=this.getLastForHost(tt);e&&(t.page=e);var n=this.getLastForHost(et);return n&&(t.agent=n),t},rt.prototype.getLastAndUpdate=function(t,e){if(t){var n=ot(t),r=this.getLastForHost(n);return e&&this._recordForHost(n,e),r}},rt.prototype.getLastForHost=function(t){if(this.lookup[t]){var e=this.lookup[t],n=e.latency;return[e.gathered,n]}},rt.prototype.recordForUrl=function(t,e){if(t&&e){var n=ot(t);return this._recordForHost(n,e)}},rt.prototype._recordForHost=function(t,e){var n=this,r=function(t){if(!t.connectStart||!t.connectEnd)return;var e=t.connectEnd-t.connectStart;if(e<1)return;return e}(e);if(r){var o,i;if(this.lookup[t]?(i=this.lookup[t],o=this.cache.indexOf(i)):i={host:t},i.gathered=T(),i.latency=r,void 0!==o&&-1<o&&this.cache.splice(o,1),I(nt,t)||this.cache.unshift(i),this.lookup[t]=i,10<this.cache.length)this.cache.splice(10,this.cache.length-10).forEach(function(t){var e=t.host;delete n.lookup[e]});this._saveToStorage()}},rt.prototype._loadFromStorage=function(){var a=this;if(Q.isSupported()){var t=Q.get(Z);if(t){this.cache=[],this.lookup={};var s=T()-864e5;k(t.split("\n"),function(t){var e=t.split("/"),n=e[0],r=parseInt(e[1],10),o=parseInt(e[2],10);if(!(r<s)){var i={host:n,gathered:r,latency:o};I(nt,n)||a.cache.push(i),a.lookup[n]=i}})}}},rt.prototype._saveToStorage=function(){var n=this;if(Q.isSupported()&&this.core.conf.tracking.user){var r=[],o=T()-864e5;k(nt,function(t){var e=n.lookup[t];e&&e.gathered>o&&r.push(e)}),k(this.cache,function(t){t.gathered>o&&r.push(t)});var t=r.map(function(t){return t.host+"/"+t.gathered+"/"+t.latency}).join("\n");Q.set(Z,t)}};var pt="plumbr_user_identity",ht=function(t){this._core=t},vt={version:{configurable:!0}};function mt(e,t){try{return t.call(this)}catch(t){console.error("[PLUMBR] Error in API "+e+":",t.message)}}vt.version.get=function(){return this._core?this._core.version:""},ht.prototype.setAppName=function(t){var e=this;return mt("setAppName",function(){if("string"!=typeof t)throw new Error("App name must be a string");e._core.sendAPIInfo("app",t)})},ht.prototype.setAppVersion=function(t){var e=this;return mt("setAppVersion",function(){if("string"!=typeof t)throw new Error("App version must be a string");e._core.sendAPIInfo("appVersion",t)})},ht.prototype.setMetadata=function(t,e){var n=this;return mt("setMetadata",function(){if("string"!=typeof t)throw new Error("Key must be a string");n._core.sendAPIInfo("meta",{key:t,val:e})})},ht.prototype.setServiceName=function(t){var e=this;return mt("setServiceName",function(){if("string"!=typeof t)throw new Error("Service must be a string");e._core.sendAPIInfo("service",t)})},ht.prototype.setUserId=function(e){var n=this;return mt("setUserId",function(){if(n._core.conf.tracking.user){if("string"!=typeof e)throw new Error("User identity must be a string");var t=Q.get(pt);t&&t!==e&&n.regenerateUser(!0),Q.set(pt,e),n._core.sendAPIInfo("user",e)}})},ht.prototype.setCookiePermissions=function(o){var i=this;return mt("setCookiePermissions",function(){if("object"!=typeof o)throw new Error("Cookie conf must be an object eg. {user: false, session: false}");var e=Object.keys(i._core.conf.tracking);if(0<Object.keys(o).filter(function(t){return-1===e.indexOf(t)}).length)throw new Error("Invalid configuration, only the following properties are allowed: "+e.join(","));var t=i._core.conf.tracking,n=t.user,r=t.session;E(i._core.conf.tracking,o),r!==i._core.conf.tracking.session&&i._core.session.refreshSession(),n!==i._core.conf.tracking.user&&i._core.session.setUser()})},ht.prototype.startTransaction=function(e){var n=this;return mt("startTransaction",function(){if(n._core.zoner.current instanceof X&&n._core.zoner.leaveState(n._core.zoner.current),!n._core.zoner.inActiveState()){var t=n._core.zoner.enterNewState(void 0,["API-state"]).leave;n._core.zoner.startNewTransaction({viaAPI:!0}),t()}e&&n.setServiceName(e)})},ht.prototype.startTransactionFromEvent=function(n){var r=this;return mt("startTransactionFromEvent",function(){if(n){var t=r._core.zoner.interaction.getEventState(n,void 0,!0);if(t){var e=r._core.zoner.enterState(t);r._core.zoner.currentTransaction(),e()}}})},ht.prototype.getTransactionId=function(e){var n=this;return void 0===e&&(e=!0),mt("getTransactionId",function(){var t=n._core.zoner.current.transaction;if(t&&t.id||!e||(t=n._core.zoner.root.transaction),t&&t.id)return function(e){try{for(var t=e.split(","),n=[],r=0;r<t.length;r++)n.push(parseInt(t[r]));var o=dt(n);return o||e}catch(t){return e}}(t.id)})},ht.prototype.endTransaction=function(){return this.startTransaction("After an ended transaction")},ht.prototype.regenerateUser=function(t){var e=this;return mt("regenerateUser",function(){t||e._core.send._sendData(),e._core.session.setUser(ft())})},ht.prototype.sendError=function(t){var e=this;return mt("sendError",function(){if("string"==typeof t&&(t=new Error(t)),!(t instanceof Error))throw new Error("Error must be a string or instance of Error object");t[W]&&(delete t[W],e._core.console.warn("Error was already reported")),e._core.errors.processError(t,null,{source:"api"},!0)})},ht.prototype.identify=function(t){return console.warn("[PLUMBR] Use of PLUMBR.identify is deprecated. Use setUserId instead."),this.setUserId(t)},Object.defineProperties(ht.prototype,vt);var gt=$("sessionStorage"),yt="__plumbr_data",bt=gt;if(window.parent!==window&&window.frameElement){window.frameElement[yt]||Object.defineProperty(window.frameElement,yt,{value:{},enumerable:!1,configurable:!0});var wt=window.frameElement[yt];bt={isSupported:function(){return!0},get:function(t){return wt[t]},remove:function(t){return delete wt[t],!0},set:function(t,e){wt[t]=e}}}var St=bt,Et=function(t,e,n){this.core=t,this.baseUrl=e,this.accountId=n},_t={unloadFriendly:{configurable:!0},canCheckBatches:{configurable:!0}},kt={supported:{configurable:!0}};kt.supported.get=function(){return!1},_t.unloadFriendly.get=function(){return!1},_t.canCheckBatches.get=function(){return!1},Object.defineProperties(Et.prototype,_t),Object.defineProperties(Et,kt);var It={beacon:function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={unloadFriendly:{configurable:!0},url:{configurable:!0}},r={supported:{configurable:!0}};return r.supported.get=function(){return!!navigator.sendBeacon},n.unloadFriendly.get=function(){return!0},n.url.get=function(){return this.baseUrl+"/api/browser/data/peekon?accountId="+encodeURIComponent(this.accountId)},e.prototype.send=function(t,e,n,r){navigator.sendBeacon(this.url+"&batchId="+encodeURIComponent(t),e)?r({success:null}):r({success:!1,error:"no_beacon"})},Object.defineProperties(e.prototype,n),Object.defineProperties(e,r),e}(Et),image:function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={unloadFriendly:{configurable:!0},url:{configurable:!0}},r={supported:{configurable:!0}};return r.supported.get=function(){return!!Image},n.unloadFriendly.get=function(){return!0},n.url.get=function(){return this.baseUrl+"/api/browser/data/image?accountId="+encodeURIComponent(this.accountId)},e.prototype.send=function(t,e,n,r){var o=new Image;o.src=this.url+"&payload="+encodeURIComponent(e)+"&batchId="+encodeURIComponent(t),o.addEventListener("load",function(){r({success:!0})}),o.addEventListener("error",function(){r({success:!1,error:"server"})})},Object.defineProperties(e.prototype,n),Object.defineProperties(e,r),e}(Et),xhr:function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={url:{configurable:!0},canCheckBatches:{configurable:!0}},r={supported:{configurable:!0}};return r.supported.get=function(){return!!b},n.url.get=function(){return this.baseUrl+"/api/browser/data/xhr?accountId="+encodeURIComponent(this.accountId)},n.canCheckBatches.get=function(){return!0},e.prototype.send=function(t,e,n,r){var o=this,i=n.checkBatches,a=new b;a._pSelf=!0;var s=this.url,c=this.core.conf.sendCORS;if(c||(s+="&batchId="+t,i&&(s+="&checkBatchIds="+i.join(encodeURIComponent("|")))),w.call(a,"POST",s),a.timeout=1e4,c){a.withCredentials=!0;try{a.setRequestHeader("Content-Type","application/json; charset=UTF-8"),a.setRequestHeader("X-Plumbr-BrowserBatchId",t),i&&a.setRequestHeader("X-Plumbr-BrowserCheckBatchIds",i.join("|"))}catch(t){}}S.call(a,e),m.call(a,"error",function(){r({success:!1,error:"server"})}),m.call(a,"load",function(){if(a.status<300){var e={success:!0};if(i)try{var t=a.getResponseHeader("X-Plumbr-BrowserMissingBatchIds");e.missing=t?t.split("|"):[]}catch(t){o.core.console.error("Missing batches unavailable",t.message),e.missing=[]}r(e)}else r({success:!1,error:"server"})}),m.call(a,"timeout",function(){r({success:!1,error:"timeout"})})},Object.defineProperties(e.prototype,n),Object.defineProperties(e,r),e}(Et)},Ot=function(t,e,n){this.core=t,this.url=e,this.accountId=n,this.inited=!1,this.senders={},this.senderOrder=[],this.sending=[],this.init()};Ot.prototype.init=function(){var e=this;this.inited||(this.core.conf.senders.forEach(function(t){It[t]&&It[t].supported&&(e.senders[t]=new It[t](e.core,e.url,e.accountId),e.senderOrder.push(t))}),this.inited=!0)},Ot.prototype._getSender=function(n){var r=this;void 0===n&&(n=this.core.unloading);var o=null,t=_(this.senderOrder,function(t){var e=r.senders[t];return!n||(!!e.unloadFriendly||(o||(o=e),!1))});return t?this.senders[t]:o||null},Ot.prototype.sendBatch=function(t,e){var n=t.data,r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&-1===e.indexOf(r)&&(n[r]=t[r]);return n}(t,["data"]);void 0===e&&(e=A);var o=E({attempts:0,lastAttempt:null,payload:L(E({accountId:this.accountId},n))},r);this.sending.push(o),10<this.sending.length&&this.sending.splice(0,1);var i=this._getSender();if(!i)return!1;this._sendBatch(i,o,e)},Ot.prototype._sendBatch=function(i,a,s){var c=this;if(void 0===s&&(s=A),a.attempts++,a.lastAttempt=T(),5<a.attempts)return N(this.sending,a),s(!1);var t={},u=null;i.canCheckBatches&&1<this.sending.length&&0<(u=this.sending.filter(function(t){return t!==a&&(!t.lastAttempt||t.lastAttempt<T()+5e3)})).length&&(t.checkBatches=u.map(function(t){return t.id}));var e='{"_attempt":'+a.attempts+","+a.payload.substr(1);i.send(a.id,e,t,function(t){var e=t.success,n=t.error,r=t.missing;if(void 0===r&&(r=[]),!0===e)return N(c.sending,a),s(!0),void(u&&u.length&&c.processMissingBatches(u,r));if(null!==e)if("no_beacon"!==n)a.lastAttempt=null,s(!1);else{N(c.senderOrder,"beacon");var o=c._getSender();o&&o!==i&&c._sendBatch(o,a,s)}else s(!0)})},Ot.prototype.processMissingBatches=function(t,e){var n=this;t.forEach(function(t){if(I(e,t.id)){if(t.lastAttempt&&t.lastAttempt>T()-5e3)return;return t.lastAttempt=T(),void y(function(){n._sendBatch(n._getSender(),t)},1)}N(n.sending,t)})};var Tt="plmbr.session.batch",Pt=1;var xt=function(t){var e=this;this.core=t,this.inited=!1,this.lastBatchId=null,this.batchNum=1,this.buffers={events:[],logs:[],sendRes:[]},this.throttler=function(n,r,o){var i,a,s=null,c=0;o||(o={});var u=function(){c=!1===o.leading?0:T(),s=null,n.apply(i,a),s||(i=a=null)};return function(){var t=T();c||!1!==o.leading||(c=t);var e=r-(t-c);i=this,a=arguments,e<=0||r<e?(s&&(clearTimeout(s),s=null),c=t,n.apply(i,a),s||(i=a=null)):s||(s=y(u,e))}}(function(){try{e._sendData()}catch(t){}},this.core.conf.sendFreq,{leading:!1}),this.transports=[]};xt.prototype.init=function(){var r=this;if(!this.inited){var o=Array.isArray(this.core.conf.accountId);this.transports=this.core.conf.serverUrl.map(function(t,e){var n=o?r.core.conf.accountId[e]:r.core.conf.accountId;return new Ot(r.core,t,n)}),this.inited=!0}},xt.prototype.log=function(t){this._enqueue("logs",t)},xt.prototype.event=function(t){this._enqueue("events",t)},xt.prototype.sendRes=function(t){this._enqueue("sendRes",t,!1)},xt.prototype._enqueue=function(t,e,n){void 0===n&&(n=!0),Array.isArray(e)||(e=[e]),this.buffers[t]=(this.buffers[t]||[]).concat(e),n&&this.throttler()},xt.prototype._hasDataToSend=function(){var e=this;return!!_(Object.keys(this.buffers),function(t){return"sendRes"!==t&&0<e.buffers[t].length})},xt.prototype._sendData=function(n,t){if(void 0===n&&(n=A),void 0===t&&(t=0),!this._hasDataToSend()||!navigator.onLine&&this.buffers.events.length<this.core.conf.maxBatchSize)return!1;try{var r=this._prepareBatch();if(k(this.transports,function(t,e){return t.sendBatch(r,0===e?n:void 0)}),this.core.unloading&&this._hasDataToSend())if(t<5)this._sendData(void 0,t+1);else{if(5!==t)return!1;this.core.console.error(!0,"Couldn't send all in 5 batches while unloading"),this._sendData(void 0,t+1)}return r.id}catch(t){this.core.console.error("send error",it(t))}},xt.prototype._prepareBatch=function(){var t=function(){if(St.isSupported()){var t=parseInt(St.get(Tt),10)||1;return t>(Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1)&&(t=1),St.set(Tt,t+1),t}return Pt++}(),e=ft(),n={i:this.batchNum++,si:t,id:e,_prev:this.lastBatchId,version:this.core.version,usr:this.core.session.getUser(),session:this.core.session.getSession()};for(var r in this.lastBatchId=e,this.buffers)if(this.buffers.hasOwnProperty(r)&&this.buffers[r].length)if("events"===r){var o=n[r]={};this.buffers[r].splice(0,Math.min(this.buffers[r].length,this.core.conf.maxBatchSize)).forEach(function(t){if(t.txId){t.txId in o||(o[t.txId]=[]);var e={};for(var n in t)t.hasOwnProperty(n)&&"txId"!==n&&(e[n]=t[n]);o[t.txId].push(e)}else this.core.console.error(!0,"Event without transaction ID",t)}),this.buffers[r].length&&this.core.console.info(!0,"More events leftover",this.buffers[r].length,this.core.unloading)}else n[r]=this.buffers[r].splice(0,Math.min(this.buffers[r].length,this.core.conf.maxBatchSize));n.events||(n.events={});var i=this.core.zoner.root.transaction.id;return i in n.events||(n.events[i]=[]),n.ts=T(),{id:e,data:n}},xt.prototype.pullEventsForTx=function(e){if(_(this.buffers.events,function(t){return t.txId===e&&"tx"===t.type&&t.data.start})){var n=[];return this.buffers.events=this.buffers.events.filter(function(t){return t.txId!==e||(n.push(t),!1)}),n}return null};var At=/(%[0-9A-Z]{2})+/g;function Lt(t){for(var e={},n=document.cookie?document.cookie.split("; "):[],r=0;r<n.length;r++){var o=n[r].indexOf("="),i=n[r].slice(0,o).replace(At,decodeURIComponent);if(!t||0===i.indexOf(t)){var a=n[r].slice(o+1).replace(At,decodeURIComponent);e[i]=a}}return e}function Ct(t){for(var e=document.cookie?document.cookie.split("; "):[],n=0;n<e.length;n++){var r=e[n].indexOf("=");if(t===e[n].slice(0,r).replace(At,decodeURIComponent))return e[n].slice(r+1).replace(At,decodeURIComponent)}}function jt(t,e,n,r){void 0===n&&(n=31536e4),void 0===r&&(r=null);var o=(t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[()]/g,escape))+"="+(e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent))+"; max-age="+n+"; path=/";r&&(o+="; domain="+r),document.cookie=o}function Nt(t,e){void 0===e&&(e=null),Mt(t,"/",e),Mt(t,null,e)}function Mt(t,e,n){var r=t+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT";e&&(r+="; path="+e),n&&(r+="; domain="+n),document.cookie=r}var Ut="plumbr_session_tracker",Dt="plmbr.usr.key",Rt="plumbr_user_tracker",zt=function(t){this.core=t,this._initUser()};zt.prototype._initUser=function(){var t,e=Ct(Rt);if(Q.isSupported()){var n=Q.get(Dt);n&&(Q.remove(Dt),e||(e=n))}Ct(Dt)&&Nt(Dt),(t=e)&&36===t.length&&"-"===t[8]&&"-"===t[23]||(e=ft()),this.setUser(e)},zt.prototype.getSession=function(){return this._session||this.refreshSession(),this._session},zt.prototype.getUser=function(){return this._user},zt.prototype.refreshSession=function(){var e=this;if(this.core.conf.tracking.session){var t=Ut;this.core.conf.appSession&&this.core.persistentAPI.app&&(t=Ut+"_"+function(t){for(var e=1,n=0,r=t.length,o=0;o<r;o++)n+=e+=t.charCodeAt(o);return(n%=65521)<<16|(e%=65521)}(this.core.persistentAPI.app).toString(36));var n=Ct(t);if(n&&-1<n.indexOf("|")){var r=n.split("|");n=r[0],parseInt(r[1],10)<Date.now()&&(n=null)}n||(n=ft()),jt(t,n+"|"+(Date.now()+18e5),1800,this.core.conf.cookieDomain),this._session=n}else{this._session=dt([0,0,0,0]);var o=Lt(Ut);Object.keys(o).forEach(function(t){return Nt(t,e.core.conf.cookieDomain)})}};var Ft=["ApplicationCache","EventSource","FileReader","InputMethodContext","MediaController","MessagePort","Node","Performance","SVGElementInstance","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebKitNamedFlow","Window","Worker","WorkerGlobalScope","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","DBIndex","WebSocket"],Bt="__plumbr_event_zone";function Ht(t){var e=t[2]&&"object"==typeof t[2]?t[2].capture:t[2];return{capture:e,key:qt(e)}}function qt(t){return"event_"+(t?"true":"false")}function Xt(c,t,e,u){var l=e.bind(void 0,!0),d=e.bind(void 0,!1);h(t,"addEventListener",function(t,e){var n=e[1];if("function"==typeof n){var r=Ht(e),o=r.capture,i=r.key,a=c.core.wrapper.wrapReusableUserCallback(n,i,{before:o?l:d,after:u});if(e[1]=a,t||(t=window),t[Bt]||Object.defineProperty(t,Bt,{value:{}}),n&&n[f]){var s=i+"_"+e[0]+"_"+n[f];t[Bt][s]=c.current}}}),h(t,"removeEventListener",function(t,e){var n=Ht(e).key;e[1]=function(e,t){try{if("function"!=typeof e||!e[s]&&!e[f])return e}catch(t){if(0!==t.message.indexOf(p))throw t;return e}return e[s]&&e[s][t]?e[s][t]:e}(e[1],n)})}function Wt(o){return function(t,e,n,r){o.inActiveState()||t.transaction&&!(t instanceof X)||(r.leave=o.enterState(t))}}var Kt="__plumbr_obs",Jt="__plumbr_zone";var Vt=["keydown","keypress","keyup"],Gt=["Delete","Del","Tab","Enter","Escape","Esc"," ","Spacebar","ArrowLeft","Left","ArrowUp","Up","ArrowRight","Right","ArrowDown","Down"],$t={ctrl:"ctrlKey",shift:"shiftKey",alt:"altKey",meta:"metaKey"},Qt={capture:!0,passive:!0};function Yt(t){return t.code?t.code:t.keyCode?t.keyCode:t.which}function Zt(r){var o={};function i(t){var e=Yt(t);if(!o[e]){var n=r.interaction.createState(["DOM#key",(function(n,t,e){var r=n.target;r===document&&(r=document.documentElement);var o={type:"domevent",ts:e,data:{type:"key",element:r}};if(t.conf.includeKey&&!(r instanceof HTMLInputElement&&"password"===r.type)){var i=n.key&&"Unidentified"!==n.key?n.key:String.fromCharCode(n.charCode);if(t.conf.includeKey instanceof Array&&(_(t.conf.includeKey,function(t){return"common"===t?0<=Gt.indexOf(i):"letter"===t?/^[A-zÀ-ž]$/.test(i):"number"===t?/^[0-9]$/.test(i):t.toLowerCase()===i.toLowerCase()})||(i=null)),i){var a=[];Object.keys($t).forEach(function(t){var e=$t[t];n[e]&&a.push(t)}),o.data.key=i,o.data.modifiers=a}}return o}).bind(null,t,r.core,T())],!0);o[e]=n}return o[e]}m.call(document,"keydown",function(t){var e=i(t);Object.defineProperty(t,Bt,{value:e,enumerable:!1})},Qt),m.call(document,"keypress",function(t){var e=i(t);Object.defineProperty(t,Bt,{value:e,enumerable:!1}),r.interaction.registerInteraction(e)},Qt),m.call(document,"keyup",function(t){var e=Yt(t),n=i(t);delete o[e],Object.defineProperty(t,Bt,{value:n,enumerable:!1})},Qt)}var te={click:{additions:ne,registerInteraction:!0},mousedown:{additions:ne,registerInteraction:!0},mouseup:{additions:ne,registerInteraction:!0},submit:{additions:function(t,e,n){var r=t.target;r.getAttribute("method")&&(n.data.method=r.getAttribute("method")),r.getAttribute("action")&&(n.data.target=C(r.getAttribute("action")));var o=r.querySelector("input[type=submit],button[type=submit]");o&&(n.data.text=o instanceof HTMLInputElement?o.value:o.textContent)}},change:{additions:function(t,e,n){var r=t.target;r instanceof HTMLSelectElement&&(n.data.value=r.value)}},mouseenter:{linkInteraction:!(zt.prototype.setUser=function(t){return this.core.conf.tracking.user?(this.core.conf.cookieDomain&&Nt(Rt),t||(t=ft()),jt(Rt,t,void 0,this.core.conf.cookieDomain),this._user=t):(this._user=dt([0,0,0,0]),Nt(Rt,this.core.conf.cookieDomain),Q.remove("plumbr_user_identity"),void Q.remove(Z))})},mouseleave:{linkInteraction:!1},mouseover:{linkInteraction:!1},mouseout:{linkInteraction:!1},mousemove:{linkInteraction:!1},dragenter:{linkInteraction:!1},dragleave:{linkInteraction:!1},dragover:{linkInteraction:!1}};function ee(t){var e=Object.keys(t.conf.events);return Vt.forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),e}function ne(t,e,n){var r=t.target;0<t.clientX&&0<t.screenX||0<t.clientY&&0<t.screenY||function(t){if(t.getBoundingClientRect){var e=t.getBoundingClientRect();return e&&0===e.left&&0===e.top}return!1}(r)?n.data.mouseButton=t.button:window.Notification&&r instanceof Notification?n.data.notification=!0:n.data.isSubmit=!0}var re=["load","error"],oe="onevent";function ie(s){var e=ee(s.core);function t(t,e,n){for(var r=0;r<e.length;r++)o(t,e[r],n)}re.forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),function(){if(!Object.getOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var t=Object.getOwnPropertyDescriptor(Element.prototype,"onclick");if(t&&!t.configurable)return!1}var e=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"onreadystatechange");if(e){Object.defineProperty(XMLHttpRequest.prototype,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return!0}});var n=new XMLHttpRequest,r=!!n.onreadystatechange;return Object.defineProperty(XMLHttpRequest.prototype,"onreadystatechange",e||{}),r}}()&&(t(Element.prototype,e),t(HTMLElement.prototype,e),window.MessagePort&&t(MessagePort.prototype,["message"]));var c=s.domeventWrappers.before.bind(void 0,oe),u=s.domeventWrappers.after;function o(o,i,t){var e="on"+i,n=Object.getOwnPropertyDescriptor(o,e);!n&&t&&(Object.getOwnPropertyDescriptor(t,e)&&(n={enumerable:!0,configurable:!0}));if(n&&n.configurable){delete n.writable,delete n.value;var r=n.get,a=n.set;n.set=function(t){var e=this;if(e||o!==window||(e=window),e){if("function"==typeof t){var n=t;if(t=s.core.wrapper.wrapReusableUserCallback(t,"onprop_event",{before:c,after:u}),e[Bt]||Object.defineProperty(e,Bt,{value:{}}),n&&n[f]){var r=oe+"_"+i+"_"+n[f];e[Bt][r]=s.current}}a.apply(this,[t])}},n.get=function(){if(r){var t=r&&r.apply(this);return t&&t[l]&&(t=t[l]),t}return null},Object.defineProperty(o,e,n)}}}function ae(t){!function(i){function e(t,e,n,r,o){i.domeventWrappers.before(qt(t),e,n,r,o)}var n=i.domeventWrappers.after;if(window.EventTarget)Xt(i,window.EventTarget.prototype,e,n);else{var r=[];Ft.forEach(function(t){if(window[t]){for(var e=window[t].prototype;e&&-1===Object.getOwnPropertyNames(e).indexOf("addEventListener");)e=Object.getPrototypeOf(e);e&&!I(r,e)&&r.push(e)}}),r.forEach(function(t){return Xt(i,t,e,n)})}}(t),function(o){if(window.MutationObserver){var i=Wt(o),n=function(t,e,n){var r=n.leave;r&&r()};window.MutationObserver=r(MutationObserver,{before:function(t,e){"function"==typeof e[0]&&(e[0]=o.core.wrapper.wrapUserCallback(e[0],{before:function(t,e,n){if(e[1][Kt]&&e[0]&&0!==e[0].length){var r=e[0][0];"characterData"===r.type&&r.target instanceof Text&&r.target[Jt]&&i(r.target[Jt],t,e,n)}},after:n}))}},{observe:{before:function(t,e){if(e[0]&&e[0]instanceof Text&&e[1]&&e[1].characterData&&!Object.getOwnPropertyDescriptor(e[0],"data")){Object.defineProperty(t,Kt,{configurable:!0,value:!0,writable:!0}),Object.defineProperty(e[0],Jt,{configurable:!0,value:void 0,writable:!0});var n=Object.getOwnPropertyDescriptor(CharacterData.prototype,"data");if(n){delete n.writable,delete n.value;var r=n.set;n.set=function(t){var e=this;this[Jt]=o.current,y(function(){e[Jt]=void 0}),r.apply(this,[t])},Object.defineProperty(e[0],"data",n)}}}}})}}(t),function(o){if(window.Promise){var i=Wt(o),a=function(t,e,n){var r=n.leave;r&&r()};window.Promise=r(window.Promise,{before:function(t,e){"function"==typeof e[0]&&(e[0]=o.core.wrapper.wrapUserCallback(e[0],{before:i.bind(void 0,o.current),after:a}))}},{then:{before:function(t,e){for(var n=e.length,r=0;r<n;r++)"function"==typeof e[r]&&(e[r]=o.core.wrapper.wrapUserCallback(e[r],{before:i.bind(void 0,o.current),after:a}))}}})}}(t),ie(t),function(r){var o=Wt(r),i=function(t,e,n){var r=n.leave;r&&r()};function a(t,e,n){return"function"!=typeof t?t:r.core.wrapper.wrapUserCallback(t,{before:e,after:n})}h(window,"setTimeout",function(t,e){var n;n="number"==typeof e[1]&&e[1]>=r.core.conf.ignoreTimeout?function(t,e,n){n.leave=r.enterState(r.current.exclusionState)}:o.bind(void 0,r.current),e[0]=a(e[0],n,i)}),h(window,"setInterval",function(t,e){e[0]=a(e[0],function(t,e,n){n.leave=r.enterState(r.current.exclusionState)},i)}),window.setImmediate&&h(window,"setImmediate",function(t,e){e[0]=a(e[0],o.bind(void 0,r.current),i)}),window.requestAnimationFrame&&h(window,"requestAnimationFrame",function(t,e){e[0]=a(e[0],o.bind(void 0,r.current),i)}),window.requestIdleCallback&&h(window,"requestIdleCallback",function(t,e){e[0]=a(e[0],o.bind(void 0,r.current),i)})}(t)}var se=function(r){function t(t,e,n){void 0===t&&(t=null),void 0===e&&(e="Unknown"),r.call(this,t,e),Object.defineProperty(this,"_exclusionState",{enumerable:!1,writable:!0}),this.getEventData=n}r&&(t.__proto__=r),(t.prototype=Object.create(r&&r.prototype)).constructor=t;var e={exclusionState:{configurable:!0}};return e.exclusionState.get=function(){return this._exclusionState||(this._exclusionState=new X(this)),this._exclusionState},t.prototype.sendRelatedEvent=function(){if(this.getEventData){var t=this.getEventData();t&&this.transaction.event(t),this.getEventData=null}},t.prototype.toJSON=function(){return{$type:"NState",name:this.name,transaction:this._transaction,parent:this.parent}},Object.defineProperties(t.prototype,e),t}(U),ce=function(t){this.zoner=t,this.recentInteraction=null};ce.prototype.getEventState=function(t,e,n){if(t[Bt])return t[Bt];var r;if(n||this.zoner.core.conf.events[t.type]||e){var o=te[t.type]||{},i=o.additions,a=o.linkInteraction;void 0===a&&(a=!0);var s=o.registerInteraction;void 0===s&&(s=!1);var c=T(),u=["DOM#"+t.type,(function(t,e,n,r){var o={type:"domevent",ts:n,data:{type:t.type}};try{var i;(i=t.path&&0<t.path.length?t.path[0]:t.target)!==document&&i!==window||(i=document.documentElement),i instanceof Element&&i.tagName&&(o.data.element=i)}catch(t){}return r&&r(t,e,o),o}).bind(void 0,t,this.zoner.core,c,i)];r=this.createState(u,e||a),s&&this.registerInteraction(r)}return null===this.zoner.core.conf.events[t.type]&&(r=this.zoner.current.exclusionState),r?(Object.defineProperty(t,Bt,{value:r,enumerable:!1}),r):void 0},ce.prototype.createState=function(t,e){return!0===e&&(e=this.recentInteraction),this.zoner.createState(se,t,e)},ce.prototype.registerInteraction=function(t){var e=this;this.intTimeout&&clearTimeout(this.intTimeout),this.recentInteraction=t,this.intTimeout=y(function(){e.recentInteraction===t&&(e.recentInteraction=null)},10)};var ue=["mousedown","mouseup","click"],le={capture:!0,passive:!0};var de=document.location.href;function fe(t){var e,n,r,o,i,a,s=[];if(!t||!t.tagName)return"";if(s.push(t.tagName.toLowerCase()),t.id&&s.push("#"+t.id),(e=t.className)&&(a=e,"[object String]"===Object.prototype.toString.call(a)))for(n=e.trim().split(" "),i=0;i<n.length;i++)s.push("."+n[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)r=c[i],(o=t.getAttribute(r))&&s.push("["+r+'="'+o+'"]');return s.join("")}var pe=["BUTTON","LABEL","A","SPAN","TD","TH"],he=["I"],ve=["BUTTON","INPUT","METER","SELECT","TEXTAREA"],me=["button","radio","submit"],ge=6;var ye=null;function be(){return ye||(ye={c:function(){try{document.cookie=G+"=1";var t=-1!==document.cookie.indexOf(G+"=");return document.cookie=G+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",Boolean(t)}catch(t){return!1}}(),ls:Q.isSupported(),ss:gt.isSupported()})}var we=["tx","domevent","nav","api","stale","hidden"],Se=function(t,e,n){var r=this;void 0===e&&(e={}),this.core=t,this.id=z(4),this.extraData=e,this.previousId=n,this.started=!1,this.ended=!1,this.last=0,this.queue=[],this.exclusionTx=new q,this.spans={},this.pingInterval=null,this.failedAssetInfoSent=!1,this.toSendFresh={},this.storedForFresh=!1,this.spamDetector=new o(5,1/0,{getMeta:T,metaChecker:_e,onSpam:function(t){r._sendEvent({type:"polling",ts:T(),data:{url:t}})}})},Ee={isStale:{configurable:!0}};function _e(o){var i=0,t=o.reduce(function(t,e,n){if(0===n)return t;var r=o[n-1]-e;return t.push(r),i+=r,t},[]);if(!(i/t.length<100)){t.sort(function(t,e){return t-e});var e,n=t[(e=t.length/2,"function"==typeof Math.trunc?Math.trunc(e):e-e%1)];return t.filter(function(t){return t-n<500}).length===t.length}}Ee.isStale.get=function(){return this.last&&this.last+15e3<T()},Se.prototype.end=function(t){var e=this;if(this.started&&!this.ended){var n={type:"tx",data:{end:T()}};if(this.core.zoner.pl.transaction===this)this.core.gatherers.metrics.getCurrent().forEach(function(t){e._sendEvent({type:"metric",data:t})});t&&(n.data.leaving=!0),0<this.exclusionTx.used.length&&(n.data.exclusions=this.exclusionTx.stats),this._sendEvent(n),this.ended=!0,null!==this.pingInterval&&clearInterval(this.pingInterval),this.spamDetector.destroy()}},Se.prototype.isSpammy=function(t){return this.spamDetector.isSpammy(t)},Se.prototype.newSpan=function(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];var r=new(Function.prototype.bind.apply(F,[null].concat([this],[t],e)));return this.spans[r.id]=r},Se.prototype.spanDone=function(t){delete this.spans[t]},Se.prototype.sendHeartbeat=function(){if(this.started)if(this.ended)clearInterval(this.pingInterval);else{var t=Object.keys(this.spans);t.length&&this.event({type:"ping",ts:T(),data:{ongoing:t}})}},Se.prototype.send=function(t){var e,n=this,r=T();if(!(this.started&&18e5<r-this.started))return this.started||this.sendTxStart(),"ping"===(e=t).type||e.data&&e.data.end||!this.isStale||this._sendEvent({type:"stale",ts:T(),data:{last:this.last,stack:function(){var t=new Error("Stale");try{throw t}catch(t){}return t.stack||"unavailable"}()}}),this.storedForFresh&&(Object.keys(this.toSendFresh).forEach(function(t){n._sendEvent(n.toSendFresh[t])}),this.toSendFresh={},this.storedForFresh=!1),this.last=T(),this._sendEvent(t);this.ended=!0},Se.prototype.sendWhenFresh=function(t){return this.isStale?(this.toSendFresh[t.type]=t,void(this.storedForFresh=!0)):this.send(t)},Se.prototype.event=function(t){return this.send(t)},Se.prototype._sendEvent=function(t){var e=this;return(t=E({txId:this.id},t)).data&&t.data.element&&(E(t.data,function(t,e){var n={},r=t,o=0,i={api:!0,values:!0,label:!0,urls:!0};function a(t,e){0<(e=e.trim()).length&&(n[t]=e,i[t]=!1)}if(e&&E(i,e),0<=ve.indexOf(t.tagName)){var s=t.id;if(s){var c=document.querySelector('label[for="'+s.replace('"','\\"')+'"]');c&&a("label",c.textContent)}}for(;r&&r!==document.body&&_(Object.keys(i),function(t){return i[t]});){if(i.values){var u;if(2<o)i.values=!1;else if(r instanceof HTMLInputElement&&0<=me.indexOf(r.type))u=r.value,i.values=!1;else if(r instanceof HTMLImageElement)n.image=r.src,n.alt=r.alt,i.values=!1;else if(r instanceof HTMLSelectElement){var l=r.children[0];l instanceof HTMLOptionElement&&(u=l.textContent),i.values=!1}else 0<=pe.indexOf(r.tagName)?u=r.textContent:0<=he.indexOf(r.tagName)&&(u=r.title);u&&(u.length<=512&&(n.text=u),i.values=!1)}i.api&&(5<o&&(i.api=!1),r.getAttribute&&r.getAttribute("data-plumbr-service")&&(a("label",r.getAttribute("data-plumbr-service")),i.api=!1)),i.label&&(3<o&&(i.label=!1),r instanceof HTMLLabelElement?a("label",r.textContent):r instanceof HTMLFormElement?i.label=!1:r.getAttribute&&r.getAttribute("aria-label")?a("label",r.getAttribute("aria-label")):r.getAttribute&&r.getAttribute("aria-labelledby")&&a("label",r.getAttribute("aria-labelledby").split(" ").map(function(t){var e=document.getElementById(t);return e?e.textContent:null}).filter(function(t){return t}).join("\n"))),i.urls&&(ge<o?i.urls=!1:r instanceof HTMLAnchorElement&&(n.url=r.href)),r=r.parentNode,o++}return n}(t.data.element)),t.data.prettyPath=function(t){for(var e,n,r=[],o=0,i=0,a=" > ".length;t&&o++<5&&(window.ShadowRoot&&t instanceof ShadowRoot&&(t=t.host),t instanceof Element);){var s=t.tagName.toLowerCase();if("html"===s){r.push(s);break}n||(e=fe(t),1<o&&80<=i+r.length*a+e.length&&(n=!0)),n&&(e=s),r.push(e),i+=e.length,t=t.parentNode}return r.reverse().join(" > ")}(t.data.element),delete t.data.element),!this.core.conf.navOnly&&this.queue&&I(we,t.type)?this.queue.push(t):(this.queue&&(this.queue.splice(0,this.queue.length).forEach(function(t){e.core.send.event(t)}),this.queue=!1),this.core.send.event(t)),t},Se.prototype.sendTxStart=function(){var t=T(),e={pl:!1,start:this.started=t,url:window.location.href,ss:de,lat:this.core.latency.getSummary(),sup:be()};this.previousId&&(e.prevId=this.previousId),E(e,this.extraData),this._sendEvent({type:"tx",data:e}),this.pingInterval=n(this.sendHeartbeat.bind(this),this.core.conf.pingFreq)},Se.prototype.toJSON=function(){return{id:this.id,extraData:this.extraData,started:this.started,ended:this.ended}},Object.defineProperties(Se.prototype,Ee);var ke="plmbr.tx.previous";function Ie(e){if(St.isSupported())try{var t=St.get(ke);if(t){var n=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return O.parse.apply(O,t)}(t);return window.performance&&performance.timing&&(!performance.timing.unloadEventStart||!performance.timing.unloadEventEnd||performance.timing.unloadEventStart-26>n.unloadTime||performance.timing.unloadEventEnd+26<n.unloadTime)?(P(n.unloadTime,performance.timing.navigationStart,1e3)&&e.console.warn("Old tx might be relevant",n,performance.timing.navigationStart,[performance.timing.unloadEventStart,performance.timing.unloadEventEnd]),e.console.warn("abandoning TX",n.txId,performance.timing.unloadEventStart,n.unloadTime,performance.timing.unloadEventEnd),null):(St.remove(ke),n)}}catch(t){e.console.error("tx recovery error",it(t))}}var Oe="instrumented_with_plumbr",Te="return ("+Oe+"(function(event){",Pe="})).apply(this, arguments /*"+Oe+"*/);",xe=function(t){this.zoner=t,this.attrs=[],this.conf.inlineEvents&&this._setup()},Ae={conf:{configurable:!0},core:{configurable:!0}};Ae.conf.get=function(){return this.core.conf},Ae.core.get=function(){return this.zoner.core},xe.prototype._setup=function(){var e=this;window[Oe]=function(t){return u(t,e.zoner.domeventWrappers.before.bind(void 0,void 0),e.zoner.domeventWrappers.after)};var t=this.conf.inlineEvents;Array.isArray(t)||(t=ee(this)),this.attrs=t.map(function(t){return"on"+t});var n=this.attrs.map(function(t){return"["+t+"]"}).join(",");k(document.querySelectorAll(n),this.fixInlineEvents.bind(this)),this.conf.inlineEventChanges&&this._listenForAttrChanges()},xe.prototype._listenForAttrChanges=function(){e&&new e(v(this._processMutations.bind(this))).observe(document,{attributes:!0,attributeFilter:this.attrs,subtree:!0})},xe.prototype._processMutations=function(t){var r=this;k(t,function(t){var e=t.attributeName,n=t.target.attributes[e];n&&r.isAttrTrackable(e)&&r.instrument(n)})},xe.prototype.fixInlineEvents=function(e){var n=this;k(e.attributes,function(t){if(n.isAttrTrackable(t.name)){if("onerror"===t.name&&"BODY"===e.nodeName)return;n.instrument(t)}})},xe.prototype.isAttrTrackable=function(t){return I(this.attrs,t)},xe.prototype.instrument=function(t){var e=t.value;if(-1!==e.indexOf(Te)){if(!this.conf.inlineEventChanges)return;var n=e.indexOf(Pe);if(-1===n)return void console.warn("[PLUMBR]","Problems re-instrumenting",t);if(n===e.length-Pe.length)return;e=e.replace(Te,"").replace(Pe,"")}t.value=Te+e+Pe},Object.defineProperties(xe.prototype,Ae);var Le=null;function Ce(){return Le?T()-Le():window.performance.timing.navigationStart}function je(t,e){return void 0===e&&(e=Ce()),t+e}window.performance&&performance.timing.navigationStart&&"function"==typeof performance.now&&P(performance.timing.navigationStart+performance.now(),Date.now(),2)&&(Le=performance.now.bind(performance));var Ne=864e5,Me={startTime:"st",navigationStart:"ns",unloadEventStart:"ues",unloadEventEnd:"uee",redirectStart:"rs",redirectEnd:"re",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",connectEnd:"ce",secureConnectionStart:"scs",requestStart:"reqs",responseStart:"ress",responseEnd:"rese",domLoading:{key:"dl",renderTime:!0},domInteractive:{key:"di",renderTime:!0},domContentLoadedEventStart:{key:"dcles",renderTime:!0},domContentLoadedEventEnd:{key:"dclee",renderTime:!0},domComplete:{key:"dc",renderTime:!0},loadEventStart:{key:"les",renderTime:!0},loadEventEnd:{key:"lee",renderTime:!0},duration:{key:"dur",timestamp:!1},transferSize:{key:"ts",timestamp:!1},encodedBodySize:{key:"ebs",timestamp:!1},decodedBodySize:{key:"dbs",timestamp:!1},nextHopProtocol:{key:"nhp",include:!0}};function Ue(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=[]);var o={},i=Ce();for(var a in t){var s=Me[a];s||(s=a),"string"==typeof s&&(s={key:s});var c=s.include;void 0===c&&(c=!1);var u=s.key,l=s.renderTime;void 0===l&&(l=!1);var d=s.timestamp;if(void 0===d&&(d=!0),l===n&&!I(r,u))if("number"==typeof t[a]&&0<t[a]){var f=t[a];e&&d&&(f=je(f,i)),o[u]=f}else c&&(o[u]=t[a])}return o}function De(t){if(window.performance&&performance.timing&&ze(performance.timing))return t.rt=Ue(performance.timing),performance.timing}function Re(t,e){if(t&&ze(t,!0))return e.rt=Ue(t,!0),e}function ze(t,e){var n=e?je(t.fetchStart):t.fetchStart;return Math.abs(n-T())<Ne}var Fe=Boolean(window.performance&&window.performance.getEntriesByName),Be=2e3,He=[];function qe(){performance.getEntriesByType&&(He=performance.getEntriesByType("resource")),He.length,performance.clearResourceTimings&&performance.clearResourceTimings()}function Xe(e,t){void 0===t&&(t={});var r=t.start,o=t.end;if(!Fe)return null;function n(t){return t.reduceRight(function(t,e){if(!e.responseEnd||t&&t.responseEnd>e.responseEnd)return t;if(r||o){var n=0;if(r&&(n+=Math.abs(r-je(e.startTime))),o&&(n+=Math.abs(o-je(e.responseEnd))),Be<n)return t}return e},null)}var i,a=performance.getEntriesByName(e);return a&&a.length&&(i=n(a))?i:He&&He.length&&(a=He.filter(function(t){return t.name===e}))&&a.length&&(i=n(a))?i:null}Fe&&performance.addEventListener?m.call(performance,"resourcetimingbufferfull",qe):performance.onresourcetimingbufferfull=qe;var We="__plmbr_asset",Ke="__plmbr_lasturl",Je=["HTML","HEAD","BODY"],Ve={IFRAME:{attr:"src",matches:function(t){return t.src&&"about:blank"!==t.src}},IMG:{attr:"src",matches:function(t){return"lazy"!==t.loading}},LINK:{attr:"href",matches:function(t){return"stylesheet"===t.rel},critical:function(t){return!t.media||"all"===t.media||!!window.matchMedia&&window.matchMedia(t.media).matches}},SCRIPT:{attr:"src",matches:function(t){return!!t.src},critical:function(t){if(t.defer||t.async)return!1;for(var e=t,n=e.parentNode,r=0;!I(Je,n.tagName.toUpperCase())&&r++<128;)if(!(n=(e=n).parentNode))return!0;if(n instanceof HTMLBodyElement){for(var o=e.previousElementSibling,i=0;o&&i++<128;){if(!(o instanceof HTMLScriptElement))return!1;o=o.previousElementSibling}return!0}return!0},extraData:function(t,e){(t.crossOrigin||null!==t.getAttribute("crossorigin"))&&(e.cors=!0)}}};function Ge(t){var e=t.tagName.toUpperCase(),n=Ve[e];return null===t.getAttribute("data-plumbr-ignore")&&(!(!n||n.matches&&!n.matches(t)||!t.getAttribute(n.attr))&&("http"===t[n.attr].substr(0,4)&&n))}var $e=function(t){var e=this;this.assets=t,this.core=t.core,this.observer=null,this.inProgressScripts=[],this.pageStable=!1,m.call(document,"load",v(function(t){t.target&&e.handleLoadEvent(t.target)}),{capture:!0}),m.call(document,"error",v(function(t){t.target&&e.handleErrorEvent(t.target)}),{capture:!0}),this.monitor(),this.gatherAlreadyOnPage()};$e.prototype.monitor=function(){if(e){var t=new e(v(this._processMutations.bind(this)));t.observe(document,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["src","href"]}),this.observer=t}},$e.prototype.gatherAlreadyOnPage=function(){var n=this;k(document.querySelectorAll("link[rel=stylesheet],script[src],img[src],iframe[src]"),function(t){var e=Ge(t);e&&n._trackNode(t,e,!0)}),"loading"===document.readyState?m.call(document,"readystatechange",function(){"interactive"===document.readyState&&n._onPageInteractive()}):y(this._onPageInteractive.bind(this),1)},$e.prototype._onPageInteractive=function(){var e=this;this.inProgressScripts.splice(0,this.inProgressScripts.length).forEach(function(t){return e.handleLoadEvent(t,!0)}),this.pageStable=!0},$e.prototype.processSync=function(){this.observer&&this.observer.takeRecords&&this._processMutations(this.observer.takeRecords())},$e.prototype._processMutations=function(t){var r=this;t.forEach(function(t){if("childList"===t.type)k(t.addedNodes,r._scanAddedNodes.bind(r)),k(t.removedNodes,r._scanRemovedNodes.bind(r));else if("attributes"===t.type){var e=t.target,n=Ge(e);if(!n||n.attr!==t.attributeName)return;r._trackNode(e,n)}})},$e.prototype._scanAddedNodes=function(t){if(!this._isNodeParentFragment(t)&&t instanceof Element){var e=Ge(t);e&&this._trackNode(t,e),this.core.conf.inlineEvents&&this.core.zoner.htmlEvents.fixInlineEvents(t),t.children&&t.children.length&&k(t.children,this._scanAddedNodes.bind(this))}},$e.prototype._scanRemovedNodes=function(t){t[We]&&this._untrackNode(t),t.children&&t.children.length&&k(t.children,this._scanRemovedNodes.bind(this))},$e.prototype._trackNode=function(t,e,n){var r=this;if(e){var o=t[e.attr];if(t[We]){if(t[We].url===o)return;t[We].removeNode(t),delete t[We]}if(t[Ke]!==o&&!j(o,this.core.conf)){var i=t instanceof HTMLIFrameElement,a={type:t.tagName};n&&(a.pre=!0),e.critical&&e.critical(t)&&(a.crit=!0),e.extraData&&e.extraData(t,a);var s=this.assets.register(o,a,this.pageStable,i,i);s.addNode(t),Object.defineProperty(t,We,{configurable:!0,value:s}),Object.defineProperty(t,Ke,{configurable:!0,value:o}),n&&t instanceof HTMLScriptElement&&this.inProgressScripts.push(t),function(t,e,n,r){var o={};n&&(o.start=T());var i=t instanceof HTMLIFrameElement;if(!i&&Xe(e,o))return!0;if(t instanceof HTMLImageElement)return t.complete;if(i)try{return t.contentWindow.location.href===e&&"loading"!==t.contentWindow.document.readyState}catch(t){return r}if(t instanceof HTMLLinkElement)try{return t.sheet&&t.sheet.cssRules&&t.sheet.cssRules.length}catch(t){return r}return!1}(t,o,this.pageStable,n)&&y(function(){r.handleLoadEvent(t,!0)},100)}}},$e.prototype._untrackNode=function(t){t[We]&&(t[We].removeNode(t),delete t[We])},$e.prototype._isNodeParentFragment=function(t){return t.parentNode&&"#document-fragment"===t.parentNode.nodeName},$e.prototype.handleLoadEvent=function(t,e){if(t){var n=this._getNodeAsset(t,e);if(n){var r={};t.currentSrc&&t.currentSrc!==n.url&&(n.backupUrl=t.currentSrc);try{t.sheet&&t.sheet.cssRules&&0===t.sheet.cssRules.length&&(r.responseCode=0,r.ev="error")}catch(t){}n.loaded(r,e||!this.pageStable),delete t[We]}}},$e.prototype.handleErrorEvent=function(t){if(t&&t[We]){var e=this._getNodeAsset(t);e&&(e.loaded({responseCode:0,ev:"error"}),t instanceof HTMLScriptElement&&this.core.zoner.recordFailedAsset(e.url),delete t[We])}},$e.prototype._getNodeAsset=function(t,e){if(t.tagName){if(!t[We]){var n=Ge(t);if(e||!n)return;if(this.pageStable)return void this.core.console.warn("load event no span",t.tagName,t.src||t.href);this._trackNode(t,n)}return t[We]}this.core.console.warn("load event no tagname",t.toString?t.toString():"[no toString]")};var Qe=function(t){var l,d,r;this.core=t,this.domeventWrappers=(d=Wt(l=this),r=function(t,e,n){var r=n.leave;r&&r()},{before:v(function(t,e,n,r,o){var i=n[0];if(i&&i.type){var a=!0;if("message"===i.type&&0<l.core.conf.allowedMessageOrigins.length&&I(l.core.conf.allowedMessageOrigins,i.origin)&&(a=!1),a){var s=l.interaction.getEventState(i);if(s)return void(r.leave=l.enterState(s))}if(t&&(e||(e=window),e[Bt]&&o[f])){var c=t+"_"+i.type+"_"+o[f],u=e[Bt][c];u&&d(u,e,n,r)}}}),after:v(function(t,e,n){r(t,e,n)})});var e=new se(null,"pl");e.transaction=this.continueOrStartTx({pl:!0}),this.root=e,this.pl=e,this.current=e,this.stack=[],this.unloadState=null,this.failedAssets=[],this.interaction=new ce(this),this.navCheck=function(){},this.htmlEvents=new xe(this)};function Ye(t,e){for(var n=t,r=6;n&&(!e||n.getEventData)&&(n.sendRelatedEvent(),n=n.parent,!(--r<0)););}Qe.prototype.continueOrStartTx=function(t){var n,r,e=this;if(this.core.conf.useParent&&window.parent!==window&&window.frameElement&&window.frameElement[We]){var o=window.frameElement[We],i=this.startNewTransaction(t,(n=o.span.transaction,r=o.span.id,function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._sendEvent=function(t){return t.parent||(t=E({parent:r},t)),n._sendEvent(t)},e.prototype.end=function(){this.started&&!this.ended&&(this.ended=!0,null!==this.pingInterval&&clearInterval(this.pingInterval),this.spamDetector.destroy())},e}(Se)));return i.started=T(),i}var a=Ie(this.core),s=this.startNewTransaction(t);return a&&(s.id=a.txId,s.started=T(),a.events&&a.events.forEach(function(t){return e.core.send.event(t)})),s},Qe.prototype.createState=function(t,e,n){return void 0===t&&(t=se),void 0===n&&(n=this.current!==this.root?this.current:null),new(Function.prototype.bind.apply(t,[null].concat([n],e)))},Qe.prototype.currentTransaction=function(){return this.current.transaction||(this.current.transaction=this.startNewTransaction(),Ye(this.current)),this.current.getEventData&&Ye(this.current,!0),this.current.transaction},Qe.prototype.enterNewState=function(t,e,n){var r=this.createState(t,e,n);return{state:r,leave:this.enterState(r)}},Qe.prototype.enterState=function(t){this.navCheck(),this.core.gatherers.assets.processSync&&this.core.gatherers.assets.processSync();this.current;return this.stack.push(t),this.current=t,this.stack,this.leaveState.bind(this,t)},Qe.prototype.forwardCurrentTx=function(t,e){var n=this.core.send.pullEventsForTx(t.id);!function(e,t,n,r){if(St.isSupported()){try{var o=L({beforeUnloadTime:n,unloadTime:Date.now(),txId:t.id,events:r});if(St.set(ke,o))return}catch(t){e.console.error("saving error",it(t))}}}(this.core,t,e,n),t.ended=!0},Qe.prototype.inActiveState=function(){return 0<this.stack.length},Qe.prototype.leaveState=function(t){var e=this.stack.indexOf(t);if(-1!==e){var n;if(this.navCheck(),this.core.gatherers.assets.processSync&&this.core.gatherers.assets.processSync(),this.stack.splice(e,1),e===this.stack.length||this.current===t)n=this.stack.length?this.stack[this.stack.length-1]:this.current=this.root,this.current=n;this.current,this.stack}},Qe.prototype.startNewTransaction=function(t,e){var n=this;void 0===e&&(e=Se);var r=void 0;this.root&&this.root.transaction&&(r=this.root.transaction.id,this.root.transaction.end());var o=new e(this.core,t,r);this.root=this.createState(se,["SOFTTX"],null),this.root.transaction=o;var i=Object.keys(this.core.persistentAPI);if(i.length){var a={};i.forEach(function(t){a[t]=n.core.persistentAPI[t]}),o.send({type:"api",ts:T(),data:a})}return this.core.hasUnzoned&&o.send({type:"unzoned"}),t&&t.pl||this.core.session.refreshSession(),o},Qe.prototype.recordFailedAsset=function(t){this.failedAssets.push(t)},Qe.prototype.isPageLoadTx=function(){return this.pl===this.current};var Ze=null;function tn(t){var e;return Ze||(Ze=new Qe(t),e=Ze,ue.forEach(function(t){m.call(document,t,function(t){e.interaction.getEventState(t)},le)}),Zt(Ze),Ze.navCheck=function(s){function c(t,e){void 0===t&&(t=document.location.href),void 0===e&&(e={});var n={type:"nav",ts:T(),data:{url:t}};E(n.data,e),s.core.events.sendEvent(n)}window.history&&(history.pushState&&h(history,"pushState",function(t,e,n){n.old=document.location.href},function(t,e,n){var r=n.old;c(document.location.href,{old:r}),de=document.location.href}),history.replaceState&&h(history,"replaceState",function(t,e,n){n.old=document.location.href},function(t,e,n){var r=n.old;c(document.location.href,{old:r,replacing:!0}),de=document.location.href}));var u=[];m.call(window,"popstate",function(){t(document.location.href,!0),de=document.location.href},{capture:!0}),m.call(window,"hashchange",function(){t(document.location.href,!0),de=document.location.href},{capture:!0});var l=!1;function t(e,t){if(!I(u,e)){u.push(e);var n=!1,r=de.split("#",1),o=e.split("#",1);if(r[0]===o[0]&&(n=!0),s.inActiveState()||!t||!l&&n){var i={old:de};n&&(i.hashChange=!0),c(e,i)}else{var a=s.enterNewState(se,["NAV#user"]).leave;c(e,{old:de,userInitiated:!0}),y(function(){a()},1)}y(function(){var t=u.indexOf(e);-1<t&&u.splice(t,1)},33)}}return m.call(window,"load",function(){y(function(){de!==document.location.href&&(t(document.location.href),de=document.location.href),l=!0},1)},{capture:!0}),function(){de!==document.location.href&&(t(document.location.href),de=document.location.href)}}(Ze),function(i){if(window.IntersectionObserver){var n=function(t,e,n){var r=n.leave;r&&r()};window.IntersectionObserver=r(window.IntersectionObserver,{before:function(t,e){"function"==typeof e[0]&&(e[0]=i.core.wrapper.wrapUserCallback(e[0],{before:function(t,e,n){var r=T(),o=i.enterNewState(se,["IntersectionObserver",function(){return{type:"domevent",ts:r,data:{type:"IntersectionObserver",prettyPath:"html"}}}]).leave;n.leave=o},after:n}))}})}}(Ze),ae(Ze)),Ze}var en=function(t){var o=this;this.core=t,this.onUserError=function(t,e,n,r){o.core.errors.processError(r,null,{source:"callback"})}};en.prototype.wrapUserCallback=function(t,e){return u(t,e.before,e.after,this.onUserError)},en.prototype.wrapReusableUserCallback=function(t,e,n){return n.onerror=this.onUserError,function(e,t,n){var r=n.before,o=n.after,i=n.onerror;if("function"!=typeof e)return e;try{e[f]}catch(t){if(0!==t.message.indexOf(p))throw t;return e}e[f]||Object.defineProperty(e,f,{value:d++,enumerable:!1});var a=e[s];return a||(a={},Object.defineProperty(e,s,{value:a,enumerable:!1})),e[s][t]||(e[s][t]=u(e,r,o,i)),e[s][t]}(t,e,n)};var nn=["error","timeout","abort"],rn="__plmbr_span",on="__plmbr_span_start",an="X-Plumbr-TransactionId";var sn=/(\d+)(?:; url=(.+))?/,cn=function(t){this.core=t,this.lastKnownLeavingInteraction=null,this.unloading=null,this.bindEvents()};cn.prototype.bindEvents=function(){var t=this.handleEvent.bind(this);m.call(window,"click",t,{capture:!0}),m.call(window,"submit",t,{capture:!0}),m.call(window,"beforeunload",this.handleBeforeUnload.bind(this),{capture:!0}),m.call(window,"unload",this.handleUnload.bind(this),{capture:!0})},cn.prototype.handleEvent=function(t){var e=this,n=function(t){switch(t.type){case"click":var e=function(t){for(var e=0;t&&t!==document.body&&e<=ge;){if(t instanceof HTMLAnchorElement)return t;t=t.parentNode,e++}return null}(t.target);return!e||e.target&&"_self"!==e.target||!e.href?null:e;case"submit":if(t.target instanceof HTMLFormElement){var n=t.target;if(!n.target||"_self"===n.target)return n}return null;default:return null}}(t);if(n){var r=this.core.zoner.interaction.getEventState(t),o={cancelled:!1,hardnavable:function(t,e){if("click"===t.type&&(!t.which||1===t.which)&!t.button)return e.href&&x(e.href);if("submit"===t.type&&t.target instanceof HTMLFormElement)return x(e.action);return!1}(t,n),state:r};this.lastKnownLeavingInteraction=o,y(function(){if(t.defaultPrevented)return o.cancelled=!0,void(e.lastKnownLeavingInteraction=null);y(function(){e.lastKnownLeavingInteraction===o&&(e.lastKnownLeavingInteraction=null)},100)},0)}},cn.prototype.handleBeforeUnload=function(e){var n=this,t=T(),r={interaction:this.lastKnownLeavingInteraction,time:t,_dt:Date.now()};this.unloading=r,this.lastKnownLeavingInteraction=null;var o=this.core.zoner.interaction.getEventState(e,r.interaction?r.interaction.state:void 0);r.state=o,y(function(){if(r.interaction&&r.interaction.cancelled&&(r.interaction=null,o.transaction&&n.core.console.warn("Wrong interaction in beforeunload tx",o.transaction.id)),e.returnValue||e.defaultPrevented){var t=n.unloading;y(function(){n.unloading===t&&(n.unloading=null)},5e3)}},0)},cn.prototype.handleUnload=function(){var t,e,n;this.core.unloading=!0,this.core.gatherers.pageLoad.onUnload();var r,o,i={};if(this.unloading&&this.unloading.interaction&&(o=this.unloading.interaction),this.lastKnownLeavingInteraction&&(o=this.lastKnownLeavingInteraction),o&&o.hardnavable&&(r=o.state,i._dt=Date.now(),i._n=T(),this.unloading&&(i._buDt=this.unloading._dt,i._buN=this.unloading.time)),r&&(e=this.core.zoner.enterState(r),n=!0),!n&&document.querySelector){var a=document.querySelector("meta[http-equiv=refresh]");if(a)(function(t){var e=sn.exec(t);if(!e)return!1;if(2<=parseInt(e[1]))return!1;if(e[2])return x(e[2]);return!0})(a.getAttribute("content"))&&(n=!0,i.redir=!0)}if(n){var s=this.unloading?this.unloading.time:T();this.core.events.sendEvent({type:"hardnav",ts:s,data:i}),t=this.core.zoner.currentTransaction(),this.core.zoner.forwardCurrentTx(t,s)}e&&e(),this.core.zoner.root.transaction&&this.core.zoner.root.transaction!==t&&this.core.zoner.root.transaction.end(!0),this.core.send._sendData()};var un="plumbr-tx-",ln="[if !IE]>PLUMBR|";function dn(n){var r=n.events.newSpan(null,"pl"),t={url:window.location.href,ref:document.referrer};De(t),r.start(t);var o=function(t){var e=fn();if(e)return Nt(un+"1"),e;var n,r=Lt(un),o=0;Object.keys(r).forEach(function(t){var e=parseInt(t.substr(un.length),10);o<e&&(n=r[t],o=e)}),n&&Nt(un+o);1<Object.keys(r).length&&t.console.warn("multiple btx cookies",r,o);return{v:0,tx:n}}(n),i=!1;function e(t){if(void 0===t&&(t={}),!i){var e=De(t);e&&(n.latency.recordForUrl(tt,e),n.latency.recordForUrl(location.href,e)),o&&(t.bTxId=o.tx),n.conf.responseCode&&(t.responseCode=parseInt(n.conf.responseCode,10)),window.performance&&performance.navigation&&(t.navty=performance.navigation.type,0<performance.navigation.redirectCount&&(t.redir=performance.navigation.redirectCount)),r.end(t),i=!0}}var a=[];function s(){var t=function(t){if(window.performance&&window.performance.timing)return Ue(performance.timing,!1,!0,t)}(a),e=Object.keys(t);0!==e.length&&(a=a.concat(e),r.transaction.send({spanId:r.id,type:"render",data:t}))}function c(){switch(document.readyState){case"complete":case"interactive":y(function(){e(),y(s)});break;default:var t=window.performance.timing;t&&0<t.responseEnd&&y(e)}}return m.call(document,"readystatechange",c,{capture:!0}),m.call(window,"load",function(){y(s,1)},{capture:!0}),c(),{onUnload:function(){i||"complete"===document.readyState||e({unload:!0})}}}var fn=v(function(){var t=document.childNodes[0];if(t instanceof Comment&&a(t.data,ln))return JSON.parse((e=t.data.slice(ln.length,-9),(new DOMParser).parseFromString(e,"text/html").documentElement.textContent));var e});var pn=function(t){this.core=t,this.metrics={},this.initMetric("largest-contentful-paint",!0,!0,!0,!0),this.initMetric("first-input",!1,!0,!0,!0),this.initMetric("layout-shift",!0,!1,!0,!1)};pn.prototype.getCurrent=function(){var n=this,t=[];for(var e in this.metrics){var r=this.metrics[e];r.po.takeRecords().map(function(t,e){n.process(t,e)}),r.po.disconnect(),-1!==r.value&&t.push({name:e,startTime:je(r.value),value:r.value,entries:r.includeEntries?r.entries:[]})}return t},pn.prototype.process=function(t,e){this.metrics[t]&&("largest-contentful-paint"===t&&(e.startTime>this.metrics[t].value&&(this.metrics[t].value=e.startTime),this.metrics[t].entries.push(e)),"first-input"===t&&(this.metrics[t].value=e.processingStart-e.startTime,this.metrics[t].entries.push(e)),"layout-shift"===t&&(this.metrics[t].value+=e.value,this.metrics[t].entries.push(e)))},pn.prototype.initMetric=function(n,t,r,e,o){var i=this;try{if(this.poSupported(n)){this.metrics[n]={value:t?0:-1,forceIntoPageLoad:e,entries:[],includeEntries:o,po:null};var a=new PerformanceObserver(function(t){var e=i.core.gatherers.visibility.firstHidden;t.getEntries().forEach(function(t){r?t.startTime<e&&i.process(n,t):i.process(n,t)})});a.observe({type:n,buffered:!0}),this.metrics[n].po=a}}catch(t){}},pn.prototype.poSupported=function(t){var e=window.PerformanceObserver;return e&&e.supportedEntryTypes&&-1!==e.supportedEntryTypes.indexOf(t)};var hn=function(t){var e=this;this.core=t,this.isHidden=document.hidden,this.hiddenTime=document.hidden?-1:null,this.firstHidden=document.hidden?0:1/0,this.setOnce=!0,m.call(document,"visibilitychange",function(t){if(document.hidden!==e.isHidden)return document.hidden?e.onPageHidden(t):void e.onPageShown()}),this.isHidden&&this.core.events.sendWhenFresh({type:"hidden",data:{start:-1,state:document.visibilityState}})};hn.prototype.onPageHidden=function(t){var e=T();this.core.gatherers.hardnav.unloading||this.core.gatherers.hardnav.lastKnownLeavingState||(this.core.events.sendWhenFresh({type:"hidden",data:{start:e,state:document.visibilityState}}),this.core.send._sendData()),this.setOnce&&t.timeStamp&&(this.setOnce=!1,this.firstHidden=t.timeStamp),this.isHidden=!0,this.hiddenTime=e};var vn=!(hn.prototype.onPageShown=function(){this.core.events.sendWhenFresh({type:"hidden",data:{end:T(),since:this.hiddenTime}}),this.isHidden=!1,this.hiddenTime=null});m.call(window,"load",function(){vn=window.performance&&window.performance.now?performance.now():1});var mn=function(t){this.assets=t,this.observer=null,this._setupObserver()};mn.prototype._setupObserver=function(){var e=this;try{if(window.PerformanceObserver)return this.observer=new PerformanceObserver(function(t){t.getEntries().forEach(e.processTiming,e)}),void this.observer.observe({entryTypes:["resource"]})}catch(t){}},mn.prototype.processTiming=function(t){var e=t.name;if("http"===e.substr(0,4))if(_(this.assets.core.conf.serverUrl,function(t){return a(e,t)}))this.assets.core.send.sendRes(Ue(t,!0));else if("xmlhttprequest"!==t.initiatorType)if(e in this.assets.inProgress)this.assets.inProgress[e].timings(t);else if("iframe"!==t.initiatorType&&"img"!==t.initiatorType)if("css"!==t.initiatorType&&"other"!==t.initiatorType)this.assets.core.console.info("RT no asset",t.initiatorType,t.name,Ue(t,!0));else if("pl"===this.assets.core.zoner.current.name&&(!vn||t.startTime<vn)){var n=this.assets.core.events.newSpan(t.name,"rtasset");n.start({type:t.initiatorType,url:t.name}),n.end({success:!0,rt:Ue(t,!0)})}};var gn=function(t){this.core=t,this.inProgress={},this.mutationObs=new $e(this),this.performanceObs=new mn(this)};gn.prototype.processSync=function(){this.mutationObs.processSync()},gn.prototype.register=function(t,e,n,r,o){var i=this.inProgress[t];return(r||!i||i.ended)&&(i=new yn(this,t,n,o),r||(this.inProgress[t]=i),i.span.start(E({url:t},e))),i},gn.prototype.cleanupAsset=function(t){this.inProgress[t.url]===t&&delete this.inProgress[t.url]};var yn=function(t,e,n,r){this.gatherer=t,this.url=e,this.backupUrl=void 0,this.start=T(),this.stable=n,this.timingEnd=r,this._makeSpan(n),this.nodes=[],this.ended=!1};function bn(t){var c,d,e,n,r={};return c=t,window.fetch&&h(window,"fetch",function(t,e,n){var r=c.zoner.enterNewState(se,"fetch").leave;n.leave=r},function(t,e,n,r){var o,i;n.leave(),i=e[0]instanceof window.Request?(o=e[0].method,e[0].url):(o="GET",C(e[0])),"object"==typeof e[1]&&e[1].method&&(o=e[1].method);var a=c.events.newSpan(i,"xhr"),s=a.start({fetch:!0,m:o,url:i}).data.start;r.then(function(t){var e={responseCode:(t=t.clone()).status};t.headers.has(an)&&(e.bTxId=t.headers.get(an)),Re(Xe(i,{start:s,end:T()}),e),a.end(e)},function(){a.end({responseCode:0})})}),r.pageLoad=dn(t),r.assets=new gn(t),r.hardnav=new cn(t),d=t,h(window.XMLHttpRequest.prototype,"open",function(i,t){if("fetch"!==d.zoner.current.name){var a,n=t[0],s=C(t[1]);if("http"===s.substr(0,4)&&!j(s,d.conf)){var c=d.events.newSpan(s,"xhr");Object.defineProperty(i,rn,{value:c,enumerable:!1}),Object.defineProperty(i,on,{value:function(){var t={m:n,url:s},e=c.start(t);a=e.data.start},configurable:!0,enumerable:!1});var u=!1,l=v(function(){if(i.readyState===XMLHttpRequest.DONE&&!u){u=!0;var e={responseCode:i.status};try{var t="\n"+i.getAllResponseHeaders();if(I(t,"\n"+an.toLowerCase()+": ")||I(t,"\n"+an+": ")){var n=i.getResponseHeader(an);null!==n&&(e.bTxId=n)}}catch(t){}var r=Xe(s,{start:a,end:T()});if(Re(r,e),e.lat=d.latency.getLastAndUpdate(s,r),g.call(i,"readystatechange",l),0===i.status){var o=v(function(t){e.ev=t.type,c.end(e),nn.forEach(function(t){return g.call(i,t,o)})});nn.forEach(function(t){return m.call(i,t,o)})}else c.end(e)}});m.call(i,"readystatechange",l)}}}),h(window.XMLHttpRequest.prototype,"send",function(t){t[rn]&&t[on]&&(t[on](),delete t[on])}),r.visibility=new hn(t),e=t,n=navigator.onLine?null:-1,m.call(window,"offline",function(){n=T()}),m.call(window,"online",function(){if(null!==n){var t={type:"offline",data:{end:T(),since:n}};e.send._hasDataToSend()?e.events.sendEvent(t):e.events.sendWhenFresh(t)}}),r.metrics=new pn(t),function(e){try{window.PerformanceObserver&&e.conf.longtask&&new PerformanceObserver(function(t){t.getEntries().forEach(function(t){e.events.sendEvent({type:"longtask",data:{start:je(t.startTime),dur:t.duration,name:t.name}})})}).observe({entryTypes:["longtask"]})}catch(t){}}(t),r}yn.prototype._makeSpan=function(t){var e=this.gatherer.core,n=void 0;t||e.zoner.inActiveState()||!e.zoner.pl.transaction?t&&!e.zoner.inActiveState()&&e.zoner.current.transaction&&e.zoner.current.transaction.isStale&&(n=e.zoner.current.transaction.exclusionTx):n=e.zoner.pl.transaction,this.span=this.gatherer.core.events.newSpan(this.url,"asset",n)},yn.prototype.addNode=function(t){this.nodes.push(t)},yn.prototype.removeNode=function(t){var e=this.nodes.indexOf(t);-1<e&&this.nodes.splice(e,1),0===this.nodes.length&&this.loaded({responseCode:0,ev:"abort"})},yn.prototype.loaded=function(t,e){var n=this;if(!this.ended){var r=E({count:this.nodes.length},t);if(!this.rt){var o={};this.stable&&(o.start=this.start),e||(o.end=T()),this.rt=Xe(this.url,o),!this.rt&&this.backupUrl&&(this.rt=Xe(this.backupUrl,o))}Re(this.rt,r),r.lat=this.gatherer.core.latency.getLastAndUpdate(this.url,this.rt),this.url===this.gatherer.core.selfURL&&this.gatherer.core.latency.recordForUrl(et,this.rt),this.span.end(r),this.ended=!0,y(function(){n.gatherer.cleanupAsset(n)},1e4)}},yn.prototype.timings=function(t){if(this.ended&&!this.rt){var e={};return Re(t,e),void(e.rt&&this.span.timings(e.rt))}this.rt=t,!this.ended&&this.timingEnd&&this.loaded({})};var wn={appName:"setAppName",regenerateUser:"regenerateUser",serviceName:"setServiceName",userId:"setUserId",appVersion:"setAppVersion"},Sn=["app","user","appVersion"],En=function(t,e){var n,r,o=this;this.publicAPI=new ht(this),this.conf=(n=t,r={appSession:!0,cancelInFrame:!1,cookieDomain:!0,events:{beforeunload:!0,blur:!0,change:!0,click:!0,contextmenu:!0,dblclick:!0,drag:!0,dragend:!0,dragenter:!0,dragleave:!0,dragover:!0,dragstart:!0,drop:!0,focus:!0,input:!0,message:null,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseover:!0,mouseout:!0,mouseup:!0,reset:!0,resize:!0,scroll:!0,select:!0,submit:!0,touchend:!0,touchmove:!0,touchstart:!0,visibilitychange:!0,wheel:!0},allowedMessageOrigins:[],excludedDomains:["olark.com","facebook.com/connect/ping","google.com/maps/vt"],includeKey:!1,inlineEvents:!0,inlineEventChanges:!1,ignoreTimeout:1e3,maxBatchSize:300,navOnly:!1,pingFreq:3e4,sendFreq:2e3,senders:["xhr","beacon","image"],user:null,tracking:{user:!0,session:!0},useParent:!0,sendCORS:!1,longtask:!1,detectUnzoned:!0},Object.keys(n).forEach(function(t){if("events"!==t)r[t]=n[t];else{var e=n.events;Object.keys(e).forEach(function(t){r.events[t]=e[t]})}}),r),this.persistentAPI={},this.selfURL=e,this.version="2.6.1 build 1605130666533",this.unloading=!1,this.wrapper=new en(this),this.console=at(this),this.conf.cookieDomain=function(t){if(!t)return!1;if(Ct(G)&&Nt(G),"string"==typeof t)return jt(G,t,120,t),Ct(G)===t?(Nt(G,t),t):(console.error("[Plumbr] Invalid cookieDomain"),!1);var e=location.hostname.split(".");if(Ct(G)){Nt(G);for(var n=1;n<=e.length&&Ct(G);)Nt(G,e.slice(-1*n).join(".")),n++}if(Ct(G))return!1;for(var r=1;r<=e.length;){var o=e.slice(-1*r).join(".");if(jt(G,o,void 0,o),Ct(G)===o)return Nt(G,o),o;r++}return!1}(this.conf.cookieDomain),this.send=new xt(this),this.session=new zt(this),this.send.init(),this.events=new V(this),i=function(t){o.console.error("wrapped func error",it(t))},this.latency=new rt(this),this.zoner=tn(this),this.gatherers=bn(this),this.errors=new J(this),this.hasUnzoned=!1,this.console.init(),this.console.info("RUM version",this.version),this.console.info("userAgent",navigator.userAgent),this.applyConfToTx()};En.prototype.applyConfToTx=function(){var e=this;Object.keys(wn).forEach(function(t){void 0!==e.conf[t]&&e.publicAPI[wn[t]](e.conf[t])})},En.prototype.sendAPIInfo=function(t,e){I(Sn,t)&&(this.persistentAPI[t]=e);var n={};n[t]=e,this.events.sendEvent({type:"api",data:n},!0)};var _n=new RegExp("bot|crawl|spider|borg|yahoo|slurp|archiver|netresearch|lycos|scooter|altavista|teoma|oegp|charlotte|http client|htdig|ichiro|mogimogi|larbin|pompos|scrubby|searchsight|semanticdiscovery|snappy|speedy|voila|vortex|voyager|zao|zeal|dataparksearch|findlinks|yottaamonitor|browsermob|httpmonitor|bingpreview|pagepeeker|webthumb|url2png|zooshot|gomeza|google sketchup|read later|pingdom|facebook|rackspace|scan|link|ezine|preview|dig|tarantula|urllib|jakarta|wget|rget|monitor|libwww|moozilla|seer|spice|snoopy|feedfetcher|google wireless transcoder|curl|wordpress|java|netfront|archive|xenu|feed|appmanager|covario|perl|host|lwp|page speed|ptst|digext|nutch|sleuth|yottaamonitor","i");function kn(t){if(!t||"function"!=typeof t)return!1;var e=new(t.apply(function(t){this&&(this.val=t)},[null,"ok"]));return e&&"ok"===e.val}var In=["Array","Date","Hash","Number","Object","String"];var On={bind:function(){try{if(!kn(Function.prototype.bind))return console.error("[Plumbr] Broken Function#bind polyfill detcted, please move agent before other libraries (such as prototypejs)."),!1}catch(t){return console.error("[Plumbr] Internal error, please poke support",t),!1}var e,t=Function.prototype.bind;return Object.defineProperty(Function.prototype,"bind",{configurable:!0,get:function(){return void 0!==e?e:t},set:function(t){if(this===Function.prototype)try{kn(t)&&(e=t)}catch(t){}else Object.defineProperty(this,"bind",{configurable:!0,value:t,writable:!0})}}),!0},json:function(){var r=!1;return h(JSON,"stringify",function(){r=!0},function(){r=!1}),In.forEach(function(t){var e,n;window[t]&&(e=window[t],n=e.prototype,Object.defineProperty(n,"_toJSON",{configurable:!0,enumerable:!1,value:n.toJSON,writable:!0}),Object.defineProperty(e.prototype,"toJSON",{get:function(){if(!r)return this._toJSON},set:function(t){this._toJSON=t}}))}),!0}};!function(){if(window.PLUMBR)console.error("[Plumbr] Multiple loadings of Plumbr browser agent attempted");else if(t=z(1),Boolean(Object.defineProperty&&t&&0<t.length)){var t,e=document.querySelector("script[data-plumbr-lateinit]");e?window.PLUMBR={init:function(t){n(t,e.src)}}:n()}function n(t,e){var n,r,o,i,a={};if(t&&e)a=t,n=e;else{var s=document.querySelector("script[data-plumbr]");if(s&&s.getAttribute("data-plumbr")){n=s.src;try{a=JSON.parse(s.getAttribute("data-plumbr"))}catch(t){return void console.error("[Plumbr] Error parsing Plumbr config, no data will be sent.",t)}}}if(void 0===a.compat&&(a.compat=["bind"]),!a.compat||(r=a.compat,o=!0,r.forEach(function(t){t in On&&(o=On[t]()&&o)}),o)){if(!(a.cancelInFrame&&function(){try{return window.self!==window.top}catch(t){return!0}}()||navigator.userAgent&&(i=navigator.userAgent,_n.test(i))))if(a.accountId)if(a.serverUrl)if(a.appName)if(Array.isArray(a.serverUrl)||(a.serverUrl=[a.serverUrl]),!a.cookieDomain||function(t,e){if(t.lastIndexOf(e)===t.length-e.length)return e}(location.hostname,a.cookieDomain)){try{var c=new En(a,n)}catch(t){console.error("[Plumbr] Internal error, please alert support",t)}if(window.PLUMBR=c.publicAPI,c.conf.detectUnzoned){var u=[];k(document.getElementsByTagName("script"),function(t){t.hasAttribute("data-plumbr")||t.hasAttribute("data-plumbr-lateinit")||t.hasAttribute("data-plumbr-allow-before")||t.defer||!t.src||0!==t.src.indexOf("http")||u.push(t.src)}),0<u.length&&(c.events.sendEvent({type:"unzoned",data:{files:u}}),c.hasUnzoned=!0,console.error("[Plumbr] Make sure the script is added to the head tag before any external resources (such as other scripts or css files)."))}}else console.error("[Plumbr] Cookie domain needs to be a part of your domain name.");else console.error("[Plumbr] Missing appName in configuration. See the manual for more info https://plumbr.io/support/manual#applications-identifying");else console.error("[Plumbr] Missing plumbr server endpoint, no data will be sent.");else console.error("[Plumbr] Missing plumbr account ID, no data will be sent.")}else console.error("[Plumbr] Problems running compatiblity scripts, please check above.")}}()}();
//# sourceMappingURL=pa.js.map
